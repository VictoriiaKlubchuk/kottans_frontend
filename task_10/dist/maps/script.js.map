{"version":3,"sources":["script1.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../js/script.js","sourcesContent":["'use strict';\r\n\r\nlet input = document.getElementById('userCity');\r\n\r\nlet submit = document.getElementById('submit');\r\nsubmit.addEventListener('click', userInputController);\r\n\r\nfunction userInputController() {\r\n\t// city name by default \"London\"\r\n\tvar div = document.getElementById('weather');\r\n\tvar city = input.value;\r\n\tconsole.log(city);\r\n\tweatherService(city, div);\r\n}\r\n\r\n// @param {cityName} - input value\r\n// @param {elem} - in that case div#weather\r\nfunction weatherService(cityName, elem) {\r\n\tlet api = 'https://api.openweathermap.org/data/2.5/weather?q=';\r\n\tlet apiKey = '&APPID=03cfb0fcf2a70f32f32cfbb7dd39a3ec';\r\n\tlet units = '&units=metric';\r\n\r\n\t// full url for request\r\n\tlet fullUrl = api + cityName + units  + apiKey;\r\n\tconsole.log(fullUrl);\r\n\r\n\tlet promise = fetch(fullUrl, {type:'cors'});\r\n\r\n\tpromise\r\n\t\t.then((response)=>{\r\n\t\t\treturn response.json();\r\n\t\t\t}, (err)=> {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tthrow err;\r\n\t\t})\r\n\t\t.then((json)=>{\r\n\t\t\tlet data = json;\r\n\t\t\t// print data to HTML\r\n\t\t\trenderHTML(elem, data)\r\n\t\t\tconsole.log(data);\r\n\t\t})\r\n}\r\n\r\n// this function is used inside promise.then\r\nfunction renderHTML(elem, data) {\r\n\telem.innerHTML = \r\n\t\t`\r\n\t\t<div>\r\n\t\t\t<p>city name: ${ data.name }</p>\r\n\t\t\t<p>avarage temp: ${ data.main.temp } </p>\r\n\t\t\t<p> max_temp: ${ data.main.temp_max} ... min_temp: ${data.main.temp_min}</p>\r\n\t\t</div>\r\n\t\t`\r\n}\r\n"]}